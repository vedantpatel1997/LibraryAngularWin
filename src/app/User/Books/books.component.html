<div class="container">
  <div class="row">
    <div class="col d-grid gap-2 d-sm-flex justify-content-md-center">
      <a
        routerLink="/Books"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="btn btn-outline-secondary me-2"
        [queryParams]="{ filter: null }"
        >All</a
      >
      <ng-container *ngFor="let category of categories">
        <a
          class="btn btn-outline-secondary me-2"
          routerLink="/Books"
          routerLinkActive="active"
          [queryParams]="{ filter: category.name }"
          >{{ category.name }}</a
        >
      </ng-container>
    </div>
  </div>

  <div *ngIf="!error" class="mt-3">
    <div class="input-group">
      <label for="Search" class="input-group-text">Search</label>
      <input
        type="text"
        [(ngModel)]="search"
        class="form-control"
        id="Search"
      />
    </div>
  </div>

  <div id="liveAlertPlaceholder" class="mt-3"></div>

  <div class="row">
    <!-- Use a loop to generate cards for each book in the 'books' array -->
    <div class="col-md-4 mb-3" *ngFor="let book of getFilteredProducts()">
      <div class="card">
        <img
          src="https://m.media-amazon.com/images/I/61y6sHSiHhL._SL1500_.jpg"
          alt="{{ book.title }}"
          class="card-img-top"
          style="height: 200px"
        />
        <div class="card-body">
          <h5 class="card-title">{{ book.title }}</h5>
          <p class="card-text">Author: {{ book.author }}</p>
          <p class="card-text">Category: {{ book.category.name }}</p>
          <p class="card-text">Price: {{ book.price | currency }}</p>
        </div>

        <!-- Add a button or link for more details if needed -->
        <div class="card-footer">
          <a class="btn btn-primary">View Details</a>
          <a class="btn btn-primary" (click)="addToCart(book.bookId)"
            >Add To Cart</a
          >
        </div>
      </div>
    </div>
  </div>
</div>
<app-custom-error *ngIf="error"></app-custom-error>
